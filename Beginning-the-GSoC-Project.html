<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>Beginning the GSoC Project</title>
    <meta name="description" content="Going Distances on One Boat! - A blog by Prerit Garg." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Going Distances on One Boat!" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Going Distances on One Boat!" />
    <meta property="og:description" content="A blog by Prerit Garg." />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Going Distances on One Boat!" />
    <meta name="twitter:description" content="A blog by Prerit Garg." />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "A blog by Prerit Garg."
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Going Distances on One Boat!" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <!-- <li class="nav-about " role="presentation"><a href="/about">About</a></li> -->
        <li class="nav-author " role="presentation"><a href="/author/prerit2010">About</a></li>
         <li class="nav-author " role="presentation"><a href="http://github.com/prerit2010" target="_blank">Github</a></li>
        <h5 style="color : white; margin-left : 10px">Tags</h5>
        <li class="nav-fables " role="presentation"><a href="/tag/general">General</a></li>
        <li class="nav-fiction " role="presentation"><a href="/tag/GSoC2016">GSoC2016</a></li>
        
    </ul>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/gsoc2016-banner.png) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/ghost.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-GSoC2016">

        <header class="post-header">
            <h1 class="post-title">Beginning the GSoC Project</h1>
            <section class="post-meta">
            <!-- <a href='/'>prerit2010</a> -->
            <time class="post-date" datetime="2016-05-26">26 May 2016</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/GSoC2016'>Gsoc2016</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <p>After 2 long exhausting weeks of exams, I am finally done with my graduation :). And now I have buckled up to code the summer away with Software Carpentry (NumFocus).</p>

<p>As I had figured out earlier, the installation data about the packages, like name and version is easily available in the <a href="https://github.com/wking/swc-setup-installation-test">installation test scripts</a> in the form of a list. But this case is only for successful installs. For failures I don’t have a direct list, rather I have a list of messages that are displayed by the script to the users for each failure, which have been designed something like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_url</span><span class="p">()</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">'check for {0} failed:'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checker</span><span class="o">.</span><span class="n">full_name</span><span class="p">()),</span>
            <span class="s">'  '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span><span class="p">,</span>
            <span class="s">'  For instructions on installing an up-to-date version, see'</span><span class="p">,</span>
            <span class="s">'  '</span> <span class="o">+</span> <span class="n">url</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">causes</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'  causes:'</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">cause</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">causes</span><span class="p">:</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="s">'  '</span> <span class="o">+</span> <span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">cause</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span>
        <span class="k">return</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre>
</div>

<p>So, I’ll have to format the data and make it appropriate to be sent to server.</p>

<p>As per the discussion with my mentor <strong>@pbanaszkiewicz</strong>, I will get back to installation scripts a litter later. Firstly I’ll be creating the server and API, it will help me in understanding the format and requirement of data which is to be prepared later during modification of installation test scripts.</p>

<p>So, I have begun working on the server side, the code of which resides in the github repository <a href="https://github.com/prerit2010/Result-aggregation-server">Result-aggregation-server</a>. API is to be built using python’s micro web framwork flask. Following are the basic requirements of this API:</p>

<ul>
  <li><a href="http://flask.pocoo.org/">Flask</a></li>
  <li><a href="http://www.sqlalchemy.org/">SQLAlchemy</a></li>
  <li><a href="https://www.sqlite.org/">SQLite</a></li>
  <li><a href="https://flask-migrate.readthedocs.io/en/latest/">Flask-Migrate</a></li>
</ul>

<p>I have created an endpoint <strong>installation_data</strong> which sends the user’s system information, the installed packages by the user, and failed packages. The installation script should make a POST request with headers : <strong>“Content-Type : application/json”</strong> to this end point. Currently there are 3 tables in the database namely <strong>user_system_info</strong>, <strong>successful_installs</strong>, and <strong>failed_installs</strong>. Both successful_installs and failed installs contain a foreign key which references the id of user table. The schema is as follows:
<img src="http://i.imgur.com/vTTrkDP.png" alt="image" /></p>

<p>I have created the <a href="https://github.com/prerit2010/Result-aggregation-server/blob/master/app/models.py">models</a> and also the relationship between the tables (one to many). Each time there is any change in the schema I run the migration script <code class="highlighter-rouge">manage.py</code> which migrates and then upgrades the schema. This script uses <a href="https://flask-migrate.readthedocs.io/en/latest/">Flask-migrate</a> which is build on top of <a href="http://alembic.readthedocs.io/en/latest/">alembic</a>. Data that is to be sent by installation test scripts will be a dictionary with 3 keys: <em>user_system_info</em> , <em>succesful_installs</em>, and <em>failed_installs</em>. Here, <em>user_system_info</em> will be a dictionary, <em>successful_installs</em>, a list of dictionaries, and <em>failed_installs</em>, a list of dictionaries too. I have written the <a href="https://github.com/prerit2010/Result-aggregation-server/blob/master/app/views.py">endpoint</a> and tested it using curl. Everything seems to be working correctly. Although, there are some constrains to be applied during the insertion of data. One user may run the script many times, in that case data should be updated instead of insertion. I’m planning to use the combination of <em>email_id</em> and <em>workshop_id</em> as the unique key to identify a user and update their data. Also, the reponse the API gives can be improved, as it may contain some useful information for the user. Will post further updates soon. Cheers! :)</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/Prerit Garg" style="background-image: url(/assets/images/prerit.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/prerit2010">Prerit Garg</a></h4>
                
                
                    <p> A programmer and Thinker!</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> Noida, India</span> 
                    <span class="author-link icon-link"><a href="http://prerit2010.github.io/"> </a></span> 
                </div>
            </section>

            <!-- /author  -->
            
            <!-- Add Disqus Comments -->
            
            
        </footer>

    </article>

</main>
<aside class="read-next">

    <!-- [[! next_post ]] -->
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/gsoc2016-banner.png)" href="/GSoC2016-Community-Bonding-Experience">
            <section class="post">
                <h2>GSoC2016 - Community Bonding Experience</h2>
                <p>The Community Bonding period of Google Summer of Code 2016 started from April 23, 2016...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">Going Distances on One Boat!</a> &copy; 2016</section>
          
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', '', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
