<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>GSoC 2016 Project - Schema update</title>
    <meta name="description" content="Going Distances on One Boat! - A blog by Prerit Garg." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Going Distances on One Boat!" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Going Distances on One Boat!" />
    <meta property="og:description" content="A blog by Prerit Garg." />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Going Distances on One Boat!" />
    <meta name="twitter:description" content="A blog by Prerit Garg." />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "A blog by Prerit Garg."
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Going Distances on One Boat!" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <!-- <li class="nav-about " role="presentation"><a href="/about">About</a></li> -->
        <li class="nav-author " role="presentation"><a href="/author/prerit2010">About</a></li>
         <li class="nav-author " role="presentation"><a href="http://github.com/prerit2010" target="_blank">Github</a></li>
        <h5 style="color : white; margin-left : 10px">Tags</h5>
        <li class="nav-fables " role="presentation"><a href="/tag/general">General</a></li>
        <li class="nav-fiction " role="presentation"><a href="/tag/GSoC2016">GSoC2016</a></li>
        
    </ul>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/gsoc2016-banner.png) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/ghost.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-GSoC2016">

        <header class="post-header">
            <h1 class="post-title">GSoC 2016 Project - Schema update</h1>
            <section class="post-meta">
            <!-- <a href='/'>prerit2010</a> -->
            <time class="post-date" datetime="2016-06-02">02 Jun 2016</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/GSoC2016'>Gsoc2016</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <p>The concern regarding the updation of data, if the user run the scripts several times has been resolved . Initially I had thoughts of using <em>workshop_id</em> and <em>email_id</em> to identify the user. But as it turned out, we had to capture the data even if a user doesn’t provide their <em>email_id</em> and <em>workshop_id</em>. So as proposed by <a href="https://github.com/pbanaszkiewicz">Piotr Banaszkiewicz</a>, we can use a hash which will be returned by API to the user. This hash can then be saved on the disk.</p>

<p>We have to keep a track of the user’s progress during installation of packages. So everytime a user runs the script, all the data is logged in the tables. But this would require an attempt number to be associated with each request, so that, each attempt can be distinguished from the other. I have added a table <strong>Attempts</strong>, the primary key of which will be used as foreign key in both tables, and would allow us to distinguish between attempts.</p>

<p><strong>Therefore, on each request a user makes, following things are done:</strong></p>

<ul>
  <li>Script checks whether it already has a unique key in the file ‘key.txt’. If yes, it checks whether the date of the key and current date are same. As this key might have been generated for some other workshop held on some other day.</li>
  <li>If both checks are passed, then it sends this unique key along with the data. Else, unique key is set to None.</li>
  <li>Server checks whether it already has a ‘user’ record for this unique id. If yes, same user id is used for insertion of data in the tables.</li>
  <li>Attempts table contains a primary key <code class="highlighter-rouge">id</code> which is also the foreign key in ‘successfull_installs’ and ‘failed_installs’ tables. Using this key, attempts/progress of the user can be tracked down.</li>
</ul>

<p>A unique id is associated with each user and their several attempts. This helps in recognizing the existing user, and thus associating the same user id with <em>failed</em> and <em>succesfull installs</em>. I chose to use UUID over hash, as it is much easier to handle. Refer this <a href="http://stackoverflow.com/questions/703035/when-are-you-truly-forced-to-use-uuid-as-part-of-the-design/786541#786541">link</a>. And it also turns out to be better than hashing technique like SHA1 in some aspects. Refer this <a href="https://www.percona.com/blog/2007/03/13/to-uuid-or-not-to-uuid/">link</a></p>
<font color="Green"><b>Summing up, following things have been done till date :</b></font>
<p><br />
<i class="fa fa-check" aria-hidden="true"></i>   Develop models of database using SQLAlchemy. <br />
<i class="fa fa-check" aria-hidden="true"></i>   Migration of database using Flask-Migrate. <br />
<i class="fa fa-check" aria-hidden="true"></i>   API endpoint “/installation_data/”. <br />
<i class="fa fa-check" aria-hidden="true"></i>   Database connection with API. <br />
<i class="fa fa-check" aria-hidden="true"></i>   Modification of installation script to send data to server (POST request). <br />
<i class="fa fa-check" aria-hidden="true"></i>   Saving key to local disk for unique identification. <br /></p>

<font color="Red"><b>TODO :</b></font>
<p><br />
<i class="fa fa-tasks" aria-hidden="true"></i>   Sending the error description and causes along with failure and success list. <br />
<i class="fa fa-tasks" aria-hidden="true"></i>   Collecting User’s system information for sending to server.<br />
<i class="fa fa-tasks" aria-hidden="true"></i>   Writing Unit tests.<br />
<i class="fa fa-tasks" aria-hidden="true"></i>   Analysis of results.<br />
<i class="fa fa-tasks" aria-hidden="true"></i>   Writing the front end to visualize the data.<br />
<i class="fa fa-tasks" aria-hidden="true"></i>   Testing and Bug fixes. <br />
<i class="fa fa-tasks" aria-hidden="true"></i>   Testing the scripts on several operating systems. <br /></p>

<p><strong>Project Code:</strong></p>

<ul>
  <li>API Repository : <a href="https://github.com/prerit2010/Result-aggregation-server">Result-aggregation-server</a></li>
  <li>Scripts Repository : <a href="https://github.com/prerit2010/swc-setup-installation-test">swc-setup-installation-test</a></li>
</ul>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/Prerit Garg" style="background-image: url(/assets/images/prerit.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/prerit2010">Prerit Garg</a></h4>
                
                
                    <p> A programmer and Thinker!</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> Noida, India</span> 
                    <span class="author-link icon-link"><a href="http://prerit2010.github.io/"> </a></span> 
                </div>
            </section>

            <!-- /author  -->
            
            <!-- Add Disqus Comments -->
            
            
        </footer>

    </article>

</main>
<aside class="read-next">

    <!-- [[! next_post ]] -->
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/gsoc2016-banner.png)" href="/Beginning-the-GSoC-Project">
            <section class="post">
                <h2>Beginning the GSoC Project</h2>
                <p>After 2 long exhausting weeks of exams, I am finally done with my graduation :)....</p>
            </section>
        </a>
    

    
        <a class="read-next-story " style="background-image: url(/assets/images/gsoc2016-banner.png)" href="/GSoC-Project-Deployment-Testing">
            <section class="post">
                <h2>GSoC 2016 Project - API Deployment and Testing</h2>
                <p>One of the most tedious task in any python web application project is the **Deployment**...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">Going Distances on One Boat!</a> &copy; 2016</section>
          
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', '', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
