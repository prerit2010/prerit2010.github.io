<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>GSoC 2016 Project - API Deployment and Testing</title>
    <meta name="description" content="Going Distances on One Boat! - A blog by Prerit Garg." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Going Distances on One Boat!" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Going Distances on One Boat!" />
    <meta property="og:description" content="A blog by Prerit Garg." />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Going Distances on One Boat!" />
    <meta name="twitter:description" content="A blog by Prerit Garg." />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "A blog by Prerit Garg."
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Going Distances on One Boat!" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <!-- <li class="nav-about " role="presentation"><a href="/about">About</a></li> -->
        <li class="nav-author " role="presentation"><a href="/author/prerit2010">About</a></li>
         <li class="nav-author " role="presentation"><a href="http://github.com/prerit2010" target="_blank">Github</a></li>
        <h5 style="color : white; margin-left : 10px">Tags</h5>
        <li class="nav-fables " role="presentation"><a href="/tag/general">General</a></li>
        <li class="nav-fiction " role="presentation"><a href="/tag/GSoC2016">GSoC2016</a></li>
        
    </ul>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/gsoc2016-banner.png) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/ghost.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-GSoC2016">

        <header class="post-header">
            <h1 class="post-title">GSoC 2016 Project - API Deployment and Testing</h1>
            <section class="post-meta">
            <!-- <a href='/'>prerit2010</a> -->
            <time class="post-date" datetime="2016-06-23">23 Jun 2016</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/GSoC2016'>Gsoc2016</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <p>One of the most tedious task in any python web application project is the <strong>Deployment</strong> (at least for those who haven’t tasted it yet). I have done this many times, but it still annoys me ;-). May be that’s why companies have a separate Devops team who look into all of these deployment issues. Well, whether it feels good or not, I have deployed my flask API on the <a href="">nginx</a> server which runs on Ubuntu 16.04. The usual steps : Creating <strong>uwsgi configuration file</strong>, <strong>nginx configuration file</strong> etc. Earlier I used to create an <em>upstart script</em> to automatically run uwsgi on reboot of system, but as it turned out, since Ubuntu 15.04, systemd services have been made as default. So basically now I created a <em>systemd</em> service unit file, and started it using <code class="highlighter-rouge">sudo systemctl start Result-aggregation-server</code>.</p>

<p>Major portion of the code like inserting the data in the tables has been done. Now it needed some testing. I had added the feature of unique key in the installation test scripts, i.e whenever a request is sent to server, a unique is sent along with the data to identify the user. But as it got struck in my mind, if by any chance the user accidentally changes the unique key manually in <code class="highlighter-rouge">key.txt</code>, then their will be inconsistent data in the table. So I inserted a check upon the validity of the key as well, as whether a record exists with this unique Key or not.</p>

<p><strong>Unit Tests:</strong> Also wrote a few unit test to test some important use cases. For example:</p>

<ul>
  <li>If the <code class="highlighter-rouge">successful_installs</code> list is empty</li>
  <li>If the <code class="highlighter-rouge">failed_installs</code> list is empty</li>
  <li>Deleting a user should also delete its corresponding success and fail data.</li>
</ul>

<p>I also tested the scripts on windows platform and other linux distribution, there were some errors like version couldn’t be found, etc. Well, now they seem to be working well.</p>

<p>During the course of testing the scripts and API, I came across with 2 issues :</p>

<ul>
  <li>If we ask the users to input the email id and workshop id, and in case they do not want to provide their email id, they might terminate the script completely. This would prevent any data to be pushed to server. So maybe we should totally remove the idea of any such user input. But, having said that, workshop id can be a really useful data.</li>
</ul>

<p>Above issue has been resolved by simply asking from the user whether they want to share their email id and workshop id.</p>

<ul>
  <li>As the scripts are totally open source, and thus our API endpoint, we should have some kind of secret key required to push the data to server, as otherwise any random person (with dirty intention) can harm our server severely.</li>
</ul>

<p>Above issue is resolved by throttling. Using redis, requests are limited to 100 per IP per hour.</p>

<p>Further steps may include the development of the front end with charts and statistics to extract some useful information out of the data received from installation scripts.</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/Prerit Garg" style="background-image: url(/assets/images/prerit.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/prerit2010">Prerit Garg</a></h4>
                
                
                    <p> A programmer and Thinker!</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> Noida, India</span> 
                    <span class="author-link icon-link"><a href="http://prerit2010.github.io/"> </a></span> 
                </div>
            </section>

            <!-- /author  -->
            
            <!-- Add Disqus Comments -->
            
            
        </footer>

    </article>

</main>
<aside class="read-next">

    <!-- [[! next_post ]] -->
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/gsoc2016-banner.png)" href="/GSoC-Project-Schema-update">
            <section class="post">
                <h2>GSoC 2016 Project - Schema update</h2>
                <p>The concern regarding the updation of data, if the user run the scripts several times...</p>
            </section>
        </a>
    

    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">Going Distances on One Boat!</a> &copy; 2016</section>
          
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', '', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
