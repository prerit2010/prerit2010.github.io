<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>GSoC 2016 Project - Front end and split script</title>
    <meta name="description" content="Going Distances on One Boat! - A blog by Prerit Garg." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Going Distances on One Boat!" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Going Distances on One Boat!" />
    <meta property="og:description" content="A blog by Prerit Garg." />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Going Distances on One Boat!" />
    <meta name="twitter:description" content="A blog by Prerit Garg." />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "A blog by Prerit Garg."
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Going Distances on One Boat!" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <!-- <li class="nav-about " role="presentation"><a href="/about">About</a></li> -->
        <li class="nav-author " role="presentation"><a href="/author/prerit2010">About</a></li>
         <li class="nav-author " role="presentation"><a href="http://github.com/prerit2010" target="_blank">Github</a></li>
        <h5 style="color : white; margin-left : 10px">Tags</h5>
        <li class="nav-fables " role="presentation"><a href="/tag/general">General</a></li>
        <li class="nav-fiction " role="presentation"><a href="/tag/GSoC2016">GSoC2016</a></li>
        
    </ul>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/gsoc2016-banner.png) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/ghost.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-GSoC2016">

        <header class="post-header">
            <h1 class="post-title">GSoC 2016 Project - Front end and split script</h1>
            <section class="post-meta">
            <!-- <a href='/'>prerit2010</a> -->
            <time class="post-date" datetime="2016-07-05">05 Jul 2016</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/GSoC2016'>Gsoc2016</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <p>I have decided to use <a href="https://plot.ly/javascript/">plotly.js</a> primarily for plotting the graphs, but as it hardly matters, I can use other libraries as well as per the requirements. To start with, I added a graph for number of users using different operating systems, and most failed installs packages till date.</p>

<ul>
  <li>Here we have 2 cases to follow in case of failed installs packages.
    <ul>
      <li>User may have run the script many times, and so all the attempts are saved. So one case is to show the graph on the basis of all the data (including all attempts of a user).</li>
      <li>Other case is to have the graph show only the latest attempt. So, we would like to have a toggle button to switch on “Only latest attempt”, or switch it off to show all the data.</li>
    </ul>
  </li>
  <li>
    <p>The graphs should also be filtered on the basis of workshop. We can have a dropdown containing a list of all the workshops, and selecting one of which will lead to filtering the data for that workshop ONLY.</p>
  </li>
  <li>
    <p><a href="https://github.com/rgaiacs">Raniere</a> pointed out to have raw json as well in place for the information that we are going to display. For example : <a href="">http://installation.software-carpentry.org/view/?export=json</a>. So we can have the json formatted data for all the information that we tend to receive, and just use this json to display charts in the HTML pages as well.</p>
  </li>
  <li>
    <p>Project was initially built on python 2.7 (I don’t know why didn’t I use python3 from the beginning :p), but now I have migrated it to python 3.5. It didn’t require a lot of tasks, just some fixes in importing the files.</p>
  </li>
  <li>In the installation test scripts, 2 more command line options have been added :
    <ul>
      <li><code class="highlighter-rouge">-H</code> to specify the HOST name to which the data should be submitted. for example : <code class="highlighter-rouge">python swc-main.py -H 127.0.0.1:5000</code>.</li>
      <li><code class="highlighter-rouge">-n</code> to turn off sending data to server. e.g : <code class="highlighter-rouge">python swc-main.py -n</code></li>
    </ul>
  </li>
  <li>
    <p>Changed the name of “key.txt” file to ‘.swc_submission_id’, as now it would remain hidden, and having <strong>swc</strong> in the file name tells that it belongs to software carpentry.</p>
  </li>
  <li><a href="https://github.com/pbanaszkiewicz">Piotr</a> suggested to split the long script, and having something like :</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requirements_check</span>
<span class="kn">import</span> <span class="nn">api</span> <span class="kn">as</span> <span class="nn">API</span>

<span class="n">REQUIRED</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'python&gt;=3.5'</span><span class="p">,</span>
    <span class="s">'numpy'</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">errors</span><span class="p">,</span> <span class="n">passed</span> <span class="o">=</span> <span class="n">requirements_check</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">REQUIRED</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
        <span class="c"># communicate error to the user</span>

        <span class="c"># gives user a pointer on what to do when something fails</span>
        <span class="n">solution</span> <span class="o">=</span> <span class="n">requirements_check</span><span class="o">.</span><span class="n">solution</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

        <span class="k">pass</span>

    <span class="c"># check if user agrees to submit their data</span>
    <span class="n">agreement</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">'...'</span><span class="p">)</span>
    <span class="n">submition_id</span> <span class="o">=</span> <span class="n">API</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">errors</span><span class="p">,</span> <span class="n">passed</span><span class="p">)</span>

    <span class="c"># add logic for working with the submition_id</span>
    <span class="k">pass</span>

    <span class="c"># logic for submitting workshop name and email</span>
    <span class="k">pass</span>
</code></pre>
</div>

<p>So that’s what I have done. I have separated the code for <strong>API</strong>, <strong>requirements_check</strong> and running the script. Also there used to be 2 scripts, 1 for checking the python version, and the other for checking the other requirements. But now, I have merged the first script in the second. So previous structure was :</p>

<div class="highlighter-rouge"><pre class="highlight"><code>|__/swc-setup-installation-test
	|--swc-installation-test-1.py
	|--swc-installation-test-2.py
</code></pre>
</div>
<p>But now it is :</p>

<div class="highlighter-rouge"><pre class="highlight"><code>|__/swc-setup-installation-test
	|--api.py
	|--requirements_checks.py
	|--swc-main.py
</code></pre>
</div>

<p><code class="highlighter-rouge">swc-main.py</code> is the only script that needs to be run. It imports <strong>api</strong> and <strong>requirements_checks</strong> for checking the installation dependencies and sending them to server.</p>

<p>It looks good as of now, a lot of documentation is required to be done though.</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/Prerit Garg" style="background-image: url(/assets/images/prerit.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/prerit2010">Prerit Garg</a></h4>
                
                
                    <p> A programmer and Thinker!</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location"> Noida, India</span> 
                    <span class="author-link icon-link"><a href="http://prerit2010.github.io/"> </a></span> 
                </div>
            </section>

            <!-- /author  -->
            
            <!-- Add Disqus Comments -->
            
            
        </footer>

    </article>

</main>
<aside class="read-next">

    <!-- [[! next_post ]] -->
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/gsoc2016-banner.png)" href="/GSoC-Project-weekly-update">
            <section class="post">
                <h2>GSoC 2016 Project - Weekly update</h2>
                <p>Added Travis-CI integration in the API. Now at each commit I make on github, Travis...</p>
            </section>
        </a>
    

    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">Going Distances on One Boat!</a> &copy; 2016</section>
          
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', '', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
